{% extends 'base.html' %}
{% block title %}Editar Beneficio/Deducción{% endblock %}

{% block content %}
<section class="section">
  <div class="card auth-card" style="max-width:720px;">
    <h2 class="card-title">Editar Beneficio/Deducción</h2>
    <p class="card-subtitle">Modifica los campos que desees actualizar</p>

    <form class="form" method="post">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input id="nombre" name="nombre" type="text" value="{{ item[1] }}" placeholder="Ej. IGSS, Bono productividad" required />
      </div>

      <div class="form-group">
        <label for="tipo">Tipo</label>
        <select id="tipo" name="tipo" required style="padding:12px 14px; border-radius:10px; background:#0b1328; color:var(--text); border:1px solid #1f2a44;">
          <option value="prestacion" {% if item[2] == 'prestacion' %}selected{% endif %}>Prestación</option>
          <option value="deduccion" {% if item[2] == 'deduccion' %}selected{% endif %}>Deducción</option>
        </select>
      </div>

      <div class="form-group">
        <label for="tipo_calculo">Tipo de cálculo</label>
        <select id="tipo_calculo" name="tipo_calculo" required style="padding:12px 14px; border-radius:10px; background:#0b1328; color:var(--text); border:1px solid #1f2a44;">
          <option value="fijo" {% if item[3] == 'fijo' %}selected{% endif %}>Fijo</option>
          <option value="porcentaje" {% if item[3] == 'porcentaje' %}selected{% endif %}>Porcentaje</option>
        </select>
      </div>

      <div class="form-group">
        <label for="valor">Valor</label>
        <input id="valor" name="valor" type="number" step="0.0001" min="0" value="{{ item[4] }}" placeholder="Ej. 250.00 o 4.83" required />
      </div>

      <div class="form-group">
        <label for="descripcion">Descripción (opcional)</label>
        <input id="descripcion" name="descripcion" type="text" value="{{ item[6] or '' }}" placeholder="Notas breves" />
      </div>

      <div class="form-group" style="display:flex; align-items:center; gap:10px;">
        <label for="activo" style="margin:0; cursor:pointer; display:flex; align-items:center; gap:8px;">
          <input id="activo" name="activo" type="checkbox" {% if item[5] %}checked{% endif %} style="cursor:pointer; width:auto;" />
          <span>Activo</span>
        </label>
      </div>

      <div style="display:flex; gap:10px; margin-top:10px;">
        <button class="btn btn-primary" type="submit">Guardar Cambios</button>
        <a class="btn btn-outline" href="{{ url_for('beneficios_listado') }}">Cancelar</a>
      </div>
    </form>
  </div>
</section>
{% endblock %}
